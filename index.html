<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta charset="utf-8">
  <title>Scythe charts</title>
  <meta name="description" content="Scythe charts">
  <meta name="author" content="Dimitris Raviolos">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans&amp;subset=greek">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/chartist.js/latest/chartist.min.css">
  <link rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
  <style>
    body, html {
      margin: 0;
      font-family: 'Open Sans', sans-serif;
      height: 100%
    }

    .grid {
      min-height: 100%;
      display: flex;
      flex-wrap: wrap;
      flex-direction: row;
    }

    .grid .row {
      display: flex;
      justify-content: center;
      flex-direction: column;
      margin: 1px;
      background-color: #f5f5f5;
    }

    .col2 {
      flex-basis: calc(50% - 2px);
    }

    .col1 {
      flex-basis: calc(100% - 2px);
    }

    .grid .row > div {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
    }
  </style>
</head>
<body>
  <div class="grid">
    <div class="row col2">
      <div id="chart1">
        <h3>Νίκες</h3>
        <div class="ct-chart ct-octave"></div>
      </div>
    </div>
    <div class="row col2">
      <div id="chart2">
        <h3>Μέσος όρος πόντων</h3>
        <div class="ct-chart ct-octave"></div>
      </div>
    </div>
    <div class="row col2">
      <div id="chart3">
        <h3>Νίκες ανά φυλή</h3>
        <div class="ct-chart ct-octave"></div>
      </div>
    </div>
    <div class="row col2">
      <div id="chart4">
        <h3>Νίκες ανά ταμπλώ</h3>
        <div class="ct-chart ct-octave"></div>
      </div>
    </div>
    <!--
    <div class="row col1">
      <div id="chart5">
        <h3>Νίκες ανά ταμπλώ</h3>
        <div class="ct-chart ct-octave"></div>
      </div>
    </div>
    -->
  </div>
  <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/chartist.js/latest/chartist.min.js"></script>
  <script>
    function stackedBar(id, labels, series, desc) {
      $(id + ' > h3').html(desc);

      new Chartist.Bar(id + ' > div', {
        labels: labels,
        series: series
      }, {
        stackBars: true,
        axisY: {
          labelInterpolationFnc: function(value) {
            return Number.isInteger(value) ? value : null;
          }
        }
      }).on('draw', function(data) {
        if(data.type === 'bar') {
          data.element.attr({
            style: 'stroke-width: 30px'
          });
        }
      }).on('draw', function (data) {
        if (data.type === 'bar') {
          data.element.attr({
            style: 'stroke-width: 0px'
          });

          var strokeWidth = 30;

          for (var s = 0; s < data.series.length; ++s) {
            if (data.seriesIndex === s) {
              data.element.animate({
                y2: {
                  begin:  s * 500,
                  dur:    500,
                  from:   data.y1,
                  to:     data.y2,
                  easing: Chartist.Svg.Easing.easeOutSine
                },
                'stroke-width': {
                  begin: s * 500,
                  dur:   1,
                  from:  0,
                  to:    strokeWidth,
                  fill:  'freeze'
                }
              }, false);
            }
          }
        }
      });
    }

    stackedBar(
      '#chart3',
      ['Saxony', 'Rusviet', 'Nordic', 'Polania', 'Crimea'],
      [
        [1, 0, 2, 0, 1], // Δημήτρης
        [1, 0, 1, 1, 0], // Παναγιώτης
        [1, 0, 0, 0, 0], // Έλενα
        [1, 1, 0, 0, 1], // Κώστας
        [0, 1, 0, 0, 0]  // Καλλιόπη
      ],
      'Wins by country'
    )

    stackedBar(
      '#chart4',
      ['Industrial', 'Engineering', 'Patriotic', 'Mechanical', 'Agricultural'],
      [
        [3, 0, 0, 1, 0], // Δημήτρης
        [0, 0, 2, 0, 1], // Παναγιώτης
        [1, 0, 0, 0, 0], // Έλενα
        [1, 1, 0, 1, 0], // Κώστας
        [1, 0, 0, 0, 0]  // Καλλιόπη
      ],
      'Wins by board'
    )

    stackedBar(
      '#chart1',
      ['Dimitris', 'Panagiotis', 'Elena', 'Kostas', 'Kalliopi'],
      //['Δημήτρης', 'Παναγιώτης', 'Έλενα', 'Κώστας', 'Καλλιόπη'],
      [
        [4, 0, 0, 0, 0], // Δημήτρης
        [0, 3, 0, 0, 0], // Παναγιώτης
        [0, 0, 1, 0, 0], // Έλενα
        [0, 0, 0, 3, 0], // Κώστας
        [0, 0, 0, 0, 1]  // Καλλιόπη
      ],
      'Wins'
    )

    stackedBar(
      '#chart2',
      ['Dimitris', 'Panagiotis', 'Elena', 'Kostas', 'Kalliopi'],
      [
        [(64 + 66)/2, 0, 0, 0, 0], // Δημήτρης
        [0, (99 + 78 + 68)/3, 0, 0, 0], // Παναγιώτης
        [0, 0, 0, 0, 0], // Έλενα
        [0, 0, 0, (57 + 75)/2, 0], // Κώστας
        [0, 0, 0, 0, 54/1]  // Καλλιόπη
      ],
      'Average winning points'
    )

    /*stackedBar(
      '#chart5',
      [
        'Saxony Industrial', 'Saxony Engineering', 'Saxony Patriotic', 'Saxony Mechanical', 'Saxony Agricultural',
        'Rusviet Industrial', 'Rusviet Engineering', 'Rusviet Patriotic', 'Rusviet Mechanical', 'Rusviet Agricultural',
        'Nordic Industrial', 'Nordic Engineering', 'Nordic Patriotic', 'Nordic Mechanical', 'Nordic Agricultural',
        'Polania Industrial', 'Polania Engineering', 'Polania Patriotic', 'Polania Mechanical', 'Polania Agricultural',
        'Crimea Industrial', 'Crimea Engineering', 'Crimea Patriotic', 'Crimea Mechanical', 'Crimea Agricultural'
      ],
      [
        [
          1,0,0,0,0,
          0,0,0,0,0,
          1,0,0,1,0,
          0,0,0,0,0,
          1,0,0,0,0
        ], // Δημήτρης
        [
          0,0,1,0,0,
          0,0,0,0,0,
          0,0,1,0,0,
          0,0,0,0,1,
          0,0,0,0,0
        ], // Παναγιώτης
        [
          1,0,0,0,0,
          0,0,0,0,0,
          0,0,0,0,0,
          0,0,0,0,0,
          0,0,0,0,0
        ], // Έλενα
        [
          0,0,0,1,0,
          1,0,0,0,0,
          0,0,0,0,0,
          0,0,0,0,0,
          0,1,0,0,0
        ], // Κώστας
        [
          0,0,0,0,0,
          1,0,0,0,0,
          0,0,0,0,0,
          0,0,0,0,0,
          0,0,0,0,0
        ] // Καλλιόπη
      ], {
        'en': 'Wins by combination',
        'gr': 'Νίκες ανά συνδυασμούς'
      }
    )*/
  </script>
</body>
</html>
